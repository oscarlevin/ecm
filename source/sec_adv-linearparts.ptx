<?xml version="1.0" encoding="UTF-8"?>
<section xmlns:xi="http://www.w3.org/2001/XInclude" xml:id="sec_adv-linearparts">
<title>Partitions of Integers</title>
  <introduction>
    <!-- <p>
      The very interesting history of the theory of linear partitions dates back to the Middle Ages, where certain special problems in partitions were encountered.  The first major discoveries were made by L. Euler in the 18th century, followed by contributions by Cayley, Gauss, Hardy, Jacobi, Lagrange, Legendre, Littlewoood, Rademacher, Ramanujan, Schur, and Sylvester.
    </p> -->
      <p>
        In <xref ref="compositionagian"/>, we counted the <em>compositions</em> of an integer <m>n</m>, by counting the number of solutions to the equation <m>x_1 + x_2 + \cdots + x_k = n</m> where each <m>x_i</m> is a positive integer.  Put another way, we asked how many <em>lists</em> of <m>k</m> positive integers have sum <m>n</m>.  The order in which we listed the sum mattered.  What if it didn't?
      </p>
    </introduction>  
    <subsection xml:id="subsec_partition-numbers">
      <title>Partition numbers</title>
      
      <p>
        A multiset of positive integers that add to <m>n</m> is called a <term>partition</term><idx><h>partition of an integer</h></idx> of <m>n</m>. Thus the partitions of 3 are 1+1+1, 1+2 (which is the same as 2+1) and 3. The number of partitions of <m>k</m> is denoted by the <term>partition number</term> <m>p(k)</m>; in computing the partitions of 3 we showed that <m>p(3) = 3</m>. It is traditional to use Greek letters like <m>\lambda</m> to stand for partitions; we might write <m>\lambda = 1,1,1</m>, <m>\gamma= 2,1</m> and <m>\tau = 3</m> to stand for the three partitions we just described. We also write <m>\lambda = 1^3</m> as a shorthand for <m>\lambda = 1,1,1</m>, and we write <m>\lambda \dashv 3</m> as a shorthand for <q><m>\lambda</m> is a partition of three.</q>
      </p>

      <example>
        There are 5 partitions of 4 (so <m>p(4) = 5</m>).  They are <m>4=1+1+1+1</m>, <m>4=2+1+1</m>, <m>4=2+2</m>, <m>4=3+1</m>, and <m>4=4</m>.
      </example>


      <activity category="motivation">
        <statement>
          <p>
            Write out all partitions of 5, to compute <m>p(5)</m>.
          </p>
        </statement>
        <solution>
          <p>
             <m>5=1+1+1+1+1</m>, <m>5=2+1+1+1</m>, <m>5=2+2+1</m>, <m>5=3+1+1</m>, <m>5=3+2</m>,
            <m>5=4+1</m>, <m>5=5</m>, so <m>P(5)=7</m>.
          </p>
        </solution>
      </activity>


      <p>
        A <term>partition of the integer <m>k</m> into <m>n</m> parts</term><idx><h>partition of an integer</h><h>into <m>n</m> parts</h></idx> is a multiset of <m>n</m> positive integers that add to <m>k</m>. We use <m>p_n(k)</m> to denote the number of partitions of <m>k</m> into <m>n</m> parts. Thus <m>p_n(k)</m> is the number of ways to distribute <m>k</m> identical objects to <m>n</m> identical recipients so that each gets at least one.
      </p>
      
      <example>
        <p>
          Here are the partitions of 7 into two parts: <m>6+1</m>, <m>5+2</m>, <m>4+3</m>.  Thus <m>p_2(7) = 3</m>.
        </p>
      </example>

      <activity category="motivation">
        <statement>
          <p>
            Find <m>p_3(6)</m> by finding all partitions of 6 into 3 parts. What does this say about the number of ways to put six identical apples into three identical bags so that each bag has at least one apple?
          </p>
        </statement>
        <solution>
          <p>
            <m>6=4+1+1</m>, <m>6=3+2+1</m>, <m>6=2+2+2</m>, so <m>P(6,3)=3</m>. This says
            there are three ways to put six identical apples into three identical
            bags so that each bag gets at least one apple.
          </p>
        </solution>
      </activity>


      <exploration category="motivation">
          <statement>
            <p>
              How many solutions are there in the positive integers to the
              equation <m>x_1+x_2+x_3 =7</m> with <m>x_1\ge x_2\ge x_3</m>?
            </p>
          </statement>
          <solution>
            <p>
              This problem is asking for <m>p_3(7)</m> and suggests an
              organized way to go about finding it: list the partitions starting
              with the largest part and work down. <m>7=5+1+1</m>, <m>7=4+2+1</m>,
              <m>7=3+3+1</m>, <m>7=3+2+2</m>, and if we have three numbers that add to seven,
              one must be larger than two, so there are four such solutions.
            </p>
          </solution>
      </exploration>
      
      <exploration>
          <statement>
            <p>
              Explain the relationship between partitions of <m>k</m> into <m>n</m> parts and lists <m>x_1,x_2,\ldots,x_n</m> of positive integers with <m>x_1 + x_2 + \cdots + x_n = k</m> and <m>x_1\ge x_2\ge\ldots \ge x_n</m>. Such a representation of a partition is called a <term>decreasing list</term><idx><h>partition of an integer</h><h>decreasing list</h></idx> representation of the partition.
            </p>
          </statement>
          <solution>
            <p>
              There is a bijection between partitions of <m>k</m> into <m>n</m> parts and lists, in nonincreasing order, of <m>n</m> positive integers that add to <m>k</m>, because each multiset of numbers that adds to <m>k</m> can be listed in nonincreasing order in exactly one way.
            </p>
          </solution>
      </exploration>

      <exploration>
        <statement>
          <p>
            Show that <m>p_n(k)</m> is at least <m>\frac{1}{n!}\binom{k-1}{n-1}</m>.
          </p>
        </statement>
        <hint>
          <p>
            How many compositions are there of <m>k</m> into <m>n</m> parts? What is the maximum number of compositions that could correspond to a given partition of <m>k</m> into <m>n</m> parts?
          </p>
        </hint>
        <solution>
          <p>
            The number of compositions of <m>k</m> into <m>n</m> parts is <m>\binom{k-1}{n-1}</m>. We can divide the compositions into blocks, where two compositions are in the same block if and only if one is a rearrangement of the other. Then the blocks correspond bijectively to partitions of <m>k</m> into <m>n</m> parts. However we cannot compute the number of blocks by dividing by the number of compositions per block since the number of compositions per block ranges from <m>1</m> to <m>n!</m>.  But then if we divide the number of compositions by <m>n!</m> we will get a number less than the number of blocks because <m>n!</m> times the number of blocks would be, by the sum principle, greater than the number of partitions.
          </p>
        </solution>
    </exploration>


      <exploration category="motivation">
          <statement>
            <p>
              Describe the relationship between partitions of <m>k</m> and lists of vectors <m>(x_1,x_2,\ldots,x_n)</m> such that <m>x_1+2x_2+\ldots kx_k = k</m>.  Such a representation of a partition is called a <term>type vector</term> representation of a partition, and it is typical to leave the trailing zeros out of such a representation; for example <m>(2,1)</m> stands for the same partition as <m>(2,1,0,0)</m>. What is the decreasing list representation for this partition, and what number does it partition?<idx><h>partition of an integer</h><h>type vector</h></idx><idx><h>type vector for a partition of an integer</h></idx>
            </p>
          </statement>
          <solution>
            <p>
              The type vector of a partition of <m>k</m> is a way of
              representing the multiplicity function of the multiset of integers
              that adds to <m>k</m>. Thus there is a bijection between type vectors and
              partitions.
            </p>
          </solution>
      </exploration>
      
      <exploration>
          <statement>
            <p>
              How does the number of partitions of <m>k</m> relate to the number of partitions of <m>k+1</m> whose smallest part is one?
            </p>
          </statement>
          <hint>
            <p>
          How can you start with a partition of <m>k</m> and make it into a new partition of <m>k+1</m> that is guaranteed to have a part of size one, even if the original partition didn't?
            </p>
          </hint>
          <solution>
            <p>
              They are equal, because if we take two different partitions
              of <m>k-1</m> and increase the multiplicity of 1 in each (by one), they are
              still different; also if we take two different partitions of <m>k</m> that
              have parts of size one, and decrease the multiplicity of 1 in each (by
              one), they are still different.
            </p>
          </solution>
      </exploration>

      <p>
        When we write a partition as <m>\lambda = \lambda_1,\lambda_2,\ldots,\lambda_n</m>, it is customary to write the list of <m>\lambda_i</m>s as a decreasing list. When we have a type vector <m>(t_1,t_2,\ldots,t_m)</m> for a partition, we write either <m>\lambda = 1^{t_1}2^{t_2}\cdots m^{t_m}</m> or <m>\lambda = m^{t_m}(m-1)^{t_{m-1}}\cdots 2^{t_2}1^{t_1}</m>. Henceforth we will use the second of these. When we write <m>\lambda=\lambda_1^{i_1}\lambda_2^{i_2}\cdots\lambda_n^{i_n}</m>, we will assume that <m>\lambda_i>\lambda_i+1</m>.
      </p>
      
      <p>
        It is remarkable that there is no known formula for <m>p_n(k)</m>, nor is there one for <m>p(k)</m>. We have computed a few values of <m>p_n(k)</m> by listing partitions.  If we continue to do so, we could build a triangle of partition numbers as follows.
      </p>
      <figure xml:id="fig_partition-numbers">
        <caption>The triangle of partition numbers through 7.</caption>
          <tabular>
              <row bottom="minor">
                  <cell><m>k\backslash n</m></cell>
                  <cell>1</cell>
                  <cell>2</cell>
                  <cell>3</cell>
                  <cell>4</cell>
                  <cell>5</cell>
                  <cell>6</cell>
                  <cell>7</cell>
              </row>
              <row>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>2</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>3</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>4</cell>
                  <cell>1</cell>
                  <cell>2</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
                  <cell> </cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>5</cell>
                  <cell>1</cell>
                  <cell>2</cell>
                  <cell>2</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>6</cell>
                  <cell>1</cell>
                  <cell>3</cell>
                  <cell>3</cell>
                  <cell>2</cell>
                  <cell>1</cell>
                  <cell>1</cell>
                  <cell> </cell>
              </row>
              <row>
                  <cell>7</cell>
                  <cell>1</cell>
                  <cell>3</cell>
                  <cell>4</cell>
                  <cell>3</cell>
                  <cell>2</cell>
                  <cell>1</cell>
                  <cell>1</cell>
              </row>
          </tabular>
      </figure>
        <p>
          So for example, <m>p_3(7) = 4</m>: <m>(5,1,1)</m>, <m>(4,2,1)</m>, <m>(3,3,1)</m>, and <m>(3,2,2)</m>.  It sure would be nice to find the next row without having to list out all the partitions.  Perhaps we could use some sort of recursion!
        </p>

      
      <p>
        With the binomial coefficients, with Stirling numbers of the second kind, and with the Lah numbers, we were able to find a recurrence by asking what happens to our subset, partition, or broken permutation of a set <m>S</m> of numbers if we remove the largest element of <m>S</m>. Thus it is natural to look for a recurrence to count the number of partitions of <m>k</m> into <m>n</m> parts by doing something similar. Unfortunately, since we are counting distributions in which all the objects are identical, there is no way for us to identify a largest element. However if we think geometrically, we will be able to <q>see</q> how to get smaller partitions from larger.
      </p>

    </subsection>
      
    <subsection xml:id="subsec_linearpartitionsgeom">
      <title>Using Geometry</title>


      <p>
        The decreasing list representation of partitions leads us to a handy way to visualize partitions. Given a decreasing list <m>(\lambda_1,\lambda_2,\ldots \lambda_n)</m>, we draw a figure made up of rows of dots that has <m>\lambda_1</m> equally spaced dots in the first row, <m>\lambda_2</m> equally spaced dots in the second row, starting out right below the beginning of the first row and so on. Equivalently, instead of dots, we may use identical squares, drawn so that a square touches each one to its immediate right or immediately below it along an edge. See <xref ref="FerrersYoung">Figure</xref> for examples.<idx><h>Ferrers diagram</h></idx><idx><h>Young diagram</h></idx><idx><h>partition of an integer</h><h>Ferrers diagram</h></idx><idx><h>partition of an integer</h><h>Young diagram</h></idx><idx><h>diagram</h><h>of a partition!Ferrers</h></idx><idx><h>diagram</h><h>of a partition!Young</h></idx> The figure we draw with dots is called the <term>Ferrers diagram</term> of the partition; sometimes the figure with squares is also called a Ferrers diagram; sometimes it is called a <term>Young diagram</term>. At this stage it is irrelevant which name we choose and which kind of figure we draw; in more advanced work the squares are handy because we can put things like numbers or variables into them.  From now on we will use squares and call the diagrams Young diagrams.
      </p>

      <figure xml:id="FerrersYoung" >
        <caption>The Ferrers
        and Young diagrams of the partition
        (5,3,3,2)</caption>
        <image width="45%" source="images/FerrersYoung" />
      </figure>

      <activity>
        <introduction>
          We will soon start manipulating Young diagrams, so having some examples will be useful.  Keep these in a safe place.
        </introduction>
        <task>
          <p>
            Draw all the Young diagrams for the partitions of 4 and 5, grouping (i.e., partitioning) them by the number of parts. 
          </p>
        </task>
        <task>
          <p>
            Draw all <m>p_2(6)</m> Young diagrams for the partitions of 6 into 2 parts.
          </p>
        </task>
        <task>
          <p>
            Draw all <m>p_3(7)</m> Young diagrams for the partitions of 7 into 3 parts. 
          </p>
        </task>
        <task>
          <p>
            <!-- TODO: Draw these out for them? -->
            Draw all <m>p_4(9)</m> Young diagrams for the partitions of 9 into 4 parts.
          </p>
        </task>
      </activity>

      <p>
        The natural way to get a partition of a smaller integer from a partition of <m>n</m> is to remove some of the squares from the Young diagram.  We lots of choices here. 
        <ol>
          <li>
            <p>
              We could remove the entire top row.
            </p>
          </li>
          <li>
            <p>
              We could remove the entire left-most column.
            </p>
          </li>
          <li>
            <p>
              We could remove a single box somewhere. But from where?
            </p>
          </li>
        </ol>
        Removing the top row corresponds to removing the largest part of the partition.  Removing the left-most column corresponds to subtracting 1 from each part.  Removing a single box will reduce one part by 1.  Some of these might be more useful than others.
      </p>

      <activity>
        <introduction>
          <p>
            Let's see what happens when we remove the top row and whether this is helfpul.
          </p>
        </introduction>
        <task>
          <statement>
            <p>
              Look at your partitions of 7 into 3 parts.  Which partitions of what into how many parts do you get if you remove the top row?  Looking at the partition number triangle, does this allow you to calculate <m>p_3(7) = 4</m>?
            </p>
          </statement>
        </task>
        <task>
          <statement>
            <p>
              Not so fast!  Repeat the previous task with your partitions of <m>9</m> into 4 parts.  What goes wrong here?
            </p>
          </statement>
        </task>
      </activity>

      <activity>
        <introduction>
          <p>
            Now consider what happens when we remove the left-most column.
          </p>
        </introduction>
        <task>
          <statement>
            <p>
              Remove the left most column from each of your partitions of <m>7</m> into 3 parts.  Which partitions of what into how many parts do you get?  Comparing to the partition number triangle, does this allow you to compute <m>p_3(7) = 4</m>?
            </p>
          </statement>
          <hint>
            <p>
              Note that you get partitions always of the same number (which?) but into a different number of parts (why?).
            </p>
          </hint>
        </task>
        <task>
          <statement>
            <p>
              Repeat the previous task with partitions of <m>9</m> into 4 parts.  Do we run into the same problem as when we removed the top row?
            </p>
          </statement>
        </task>
      </activity>

      <p>
        The previous activity suggests a recurrence for <m>p_n(k)</m>.  We might guess
        <me>
          p_n(k) = \sum_{i=1}^n p_i(k-n) = p_1(k-n) + p_2(k-n) + \cdots + p_n(k-n)
        </me>.
        For example, <me>p_4(9) = p_1(5) + p_2(5) + p_3(5)+ p_4(5) = 1+2+2+1 = 6</me>
        (note we do not add the entire row, just up until the column we are interested in).
      </p>
      
      <exploration>
          <statement>
            <p>
              Complete the 8th row of the partition number triangle using the recurrence.
            </p>
          </statement>
      </exploration>

      <exploration>
        <statement>
          <p>
            Prove the recurrence for <m>p_n(k)</m> is correct.  
          </p>
        </statement>
        <hint>
          <p>
            Since the recurrence is a sum of smaller partition numbers, we are claiming that we can break the partitions of <m>k</m> into <m>n</m> parts into different groups, and each group will correspond to a different collection of smaller partitions.  How can you describe these groups geometrically?
          </p>
        </hint>
      </exploration>

      <p>
        Wikipedia (and almost every other textbook) gives another recursion for <m>p_n(k)</m>:
        <me>
          p_n(k) = p_n(k-n) + p_{n-1}(k-1)
        </me>.
        Let's call this the <term>short recursion for partition numbers</term> (and we will call our original recurssion the <q>long</q> one).
      </p>
      
      <activity>
        <introduction>
          <p>
            Does the short recursion really work?
          </p>
        </introduction>
        <task>
          <statement>
            <p>
              Verify the short recursion using numbers in the triangle.  In particular, check <m>p_4(9)</m>.
            </p>
          </statement>
        </task>
        <task>
          <statement>
            <p>
              Use your Young diagrams you drew above to see what is going on with the short recursion.  What geometric operations do the two parts of the sum represent? 
            </p>
          </statement>
        </task>
        <task>
          <statement>
            <p>
              Generalize your observations in the previous task to explain why the short recursion is correct.
            </p>
          </statement>
        </task>
      </activity>


      <activity>
        <statement>
          <p>
            Suppose we wanted to compute <m>p_5(13)</m>.  Since we have the 8th row of the partition number triangle, we should be able to do this with the long recursion.  What if we wanted to use the short recursion?
          </p>
          
          <p>
            Use the short recursion to compute <m>p_5(13)</m>.  If you get a partition number that you don't yet know, use the short recursion to compute that as well (you know, the way you use recursions).
          </p>
        </statement>
      </activity>
      
      <p>
        As you see above, the short recursion is nothing more than grouping all but the first term in the sum into a single partition number, using the long recursion again.  This should make sense based on the geometry of the Young digrams.
      </p>
    
      <paragraphs xml:id="pars-moregometry">
        <title>More Geometry</title>
        


    <p>
      Our goal is to use geometric reasoning about these diagrams (we will generally use the Young diagram with squares) to uncover properties of partitions.
    </p>

    <activity category="essential">
      <statement>
        <p>
          Draw the Young diagram of the partition (4,4,3,1,1). Describe the geometric relationship between the Young diagram of (5,3,3,2) and the Young diagram of (4,4,3,1,1).
        </p>
      </statement>
      <hint>
        <p>
          Draw a line through the top-left corner and bottom-right corner of the top-left box.
        </p>
      </hint>
      <solution>
          <sidebyside width="16%">
              <image source="images/Young44311" />
          </sidebyside>
        <p> We get the Young diagram of <m>(5,3,3,2)</m> by flipping the Young diagram of <m>(4,4,3,1,1)</m> around a line that includes the diagonal of the upper left box; if we think of the top left corner of the diagram as being at the origin, we flip around the line <m>y=-x</m>.
        </p>
      </solution>
    </activity>

    <activity category="essential">
      <statement>
        <p>
          The partition <m>(\lambda_1,\lambda_2,\ldots, \lambda_n)</m> is called the <term>conjugate</term><idx><h>conjugate of an integer partition</h></idx><idx><h>partition of an integer</h><h>conjugate of</h></idx> of the partition <m>(\gamma_1,\gamma_2,\ldots, \gamma_m)</m> if we obtain the Young diagram of one from the Young diagram of the other by flipping one around the line with slope -1 that extends the diagonal of the top left square. (Equivalently, simply interchanging rows and columns, like taking the transpose of a matrix.) See <xref ref="conjugateYoung">Figure</xref> for an example.
        </p>

        <figure xml:id="conjugateYoung" >
          <caption>The Young
          diagram for the partition
          (5,3,3,2) and its conjugate.</caption>
          <image width="50%" source="images/conjugateYoung" />
        </figure>

        <p>
          What is the conjugate of
          (4,4,3,1,1)? How is the largest part of a partition related to the
          number of parts of its conjugate? What does this tell you about the
          number of partitions of a positive integer <m>k</m> with largest part <m>m</m>?
        </p>
      </statement>
      <hint>
        <p>
          The largest part of a partition is the maximum number of boxes in a row of its Young diagram. What does the maximum number of boxes in a column tell us?
        </p>
      </hint>
      <solution>
        <p>
          <m>(5,3,3,2)</m>. The largest part of a partition equals the
          number of parts of its conjugate. The number of partitions of <m>k</m>
          with largest part <m>m</m> equals the number of partitions of <m>k</m> with <m>m</m>
          parts.
        </p>
      </solution>
    </activity>

    <activity category="interesting">
        <statement>
          <p>
            A partition is called <term>self-conjugate</term><idx><h>self-conjugate
            partition</h></idx><idx><h>partition of an integer</h><h>self conjugate</h></idx> if it is equal
            to its conjugate. Find a relationship between the number of
            self-conjugate partitions of <m>k</m> and the number of partitions of <m>k</m> into
            distinct odd parts.
          </p>
        </statement>
        <hint>
          <p>
            Draw all self conjugate partitions of integers less than or equal to 8.  Draw all partitions of integers less than or equal to 8 into distinct odd parts (many of these will have just one part). Now try to see how to get from one set of drawings to the other in a consistent way.
          </p>
        </hint>
        <solution>
          <p>
            The number of self-conjugate partitions of <m>k</m> equals the
            number of partitions of <m>k</m> with distinct odd parts. Here is a
            geometric description of a bijection from self conjugate partitions of
            <m>k</m> to partitions into distinct odd parts.
          </p>
          <figure xml:id="selfconjugate-to-distinctodd">
              <caption>Transforming a self-conjugate partition</caption>
              <image width="60%" source="images/selfconjugate" />
          </figure>
            <p>Take the top row and left
            column of squares of the Young diagram, and make them into one row in a
            new diagram. (Only include the square that is in both the row and column
            once.) Now take the remaining squares in the next row and column and make
            a new row of the Young diagram of the second partition with them.
            Continue this process with succeeding rows and columns, not using any
            squares you have already used. Because the first partition is self
            conjugate, the diagram has the same number of rows as columns and row
            <m>i</m> and column
            <m>i</m> have the same length. Because row <m>i</m> and column <m>i</m> share one
            square, and we only use that square once when we create a new row, each row
            we create has odd length. Thus we get a partition with the same number of
            squares, so it is a partition of <m>k</m> and each part is odd. The parts are
            distinct because when we take off the squares of a row and column, we
            reduce the number of squares in each row and column that remains. Given
            a partition of <m>k</m> into distinct odd parts, we use the fact that each
            row has a unique middle element, and each is shorter than the one
            above (by at least two squares) to reverse the process. Thus we have a
            bijection.
          </p>
        </solution>
      </activity>

      <example>
        <statement>
          <p>
            Restricting the number or type of parts often leads to interesting relationships.  
          </p>
          <p>
            We must be careful about what we mean.  For example, here are three different sorts of <q>even</q> partitions for <m>k = 10</m>: 
          </p>
          
          <sidebyside widths="20% 30% 40%" valign="top">
              <p>
                Even parts:
                <md>
                  <mrow>(10) </mrow>
                  <mrow> (8, 2)</mrow>
                  <mrow> (6, 4)</mrow>
                  <mrow> (6, 2, 2)</mrow>
                  <mrow> (4,4,2)</mrow>
                  <mrow> (4,2,2,2)</mrow>
                  <mrow> (2,2,2,2,2)</mrow>
                </md>
              </p>
              
              <p>
                Even number of parts:
                <md>
                  <mrow>(9,1) </mrow>
                  <mrow>(8,2) </mrow>
                  <mrow>(7,3) </mrow>
                  <mrow>(6,4) </mrow>
                  <mrow>(5,5) </mrow>
                  <mrow>(4,3,2,1) </mrow>
                </md>
              </p>
              
              <p>
                Parts with even multiplicity:
                <md>
                  <mrow>(5,5) </mrow>
                  <mrow>(4,4,1,1) </mrow>
                  <mrow>(3,3,2,2) </mrow>
                  <mrow>(3,3,1,1,1,1) </mrow>
                  <mrow>(2,2,2,2,1,1) </mrow>
                  <mrow>(2,2,1,1,1,1,1,1) </mrow>
                  <mrow>(1,1,1,1,1,1,1,1,1,1) </mrow>
                </md>
              </p>
          </sidebyside>
        </statement>

      </example>


      <activity xml:id="partition-even-mult-even-use">
        <statement>
          <p>
            Explain the relationship between the number of partitions of <m>k</m>
            into even parts and the number of partitions of <m>k</m> into parts of even
            multiplicity, i.e. parts which are each used an even number of times as
            in (3,3,3,3,2,2,1,1).
          </p>
        </statement>
        <hint>
          <p>
            Draw the partitions of six into even parts. Draw the partitions of six into parts used an even number of times. Look for a relationship between one set of diagrams and the other set of diagrams. If you have trouble, repeat the process using 8 or even 10 in place of 6.
          </p>
        </hint>
        <solution>
          <p>
            The number of partitions of <m>k</m> into even parts equals the
            number of partitions of parts of even multiplicity, because if we take
            the Young diagram of a partition of <m>k</m> into even parts and conjugate
            it, the resulting diagram has columns of even length. Thus the
            difference in heights of two successive columns is an even number,
            but this difference is the multiplicity of one of the parts of the
            conjugate. Further the height of the last column of a partition is
            the multiplicity of the first part. Since the multiplicity of any part
            of a partition is either the difference in height of two successive
            columns of the Young diagram or the height of the last column, then
            each part of the conjugate has even multiplicity. This bijection can
            be reversed, because if all the differences in height of the columns are
            even and the height of the last column is even, then when we
            conjugate this partition, the last row will be an even length, and
            all differences in length of the rows will be even, so all the parts
            of the resulting partition will be even.
          </p>
        </solution>
    </activity>

    <exploration xml:id="rectanglecomplement" category="interesting">
        <statement>
          <p>
            Show that the number of partitions of <m>k</m> into four parts equals the number of partitions of <m>3k</m> into four parts of size at most <m>k-1</m> (or <m>3k-4</m> into four parts of size at most <m>k-2</m> or <m>3k-4</m> into four parts of size at most <m>k</m>).
          </p>
        </statement>
        <hint>
          <p>
        Draw a partition of ten into four parts. Assume each square has area one. Then draw a rectangle of area 40 enclosing your diagram that touches the top of your diagram, the left side of your diagram and the bottom of your diagram. How does this rectangle give you a partition of 30 into four parts?
          </p>
        </hint>

        <solution>
          <p>
            Think about putting the Young diagram of the partition into
            the upper left corner of a rectangle that is <m>k</m> units wide and four
            units high. Subdivide the rectangle into <m>4k</m> squares of unit area.
            The Young diagram covers <m>k</m> of these squares. The uncovered squares
            are in rows of length <m>r_1\le r_2\le r_3\le r_4</m>. Thus if we list
            these lengths in the opposite order, we have a decreasing list
            representation of a partition of <m>3k</m>. Even <m>r_1</m> will have to be
            positive, because the first part of the original partition will be at
            most <m>k-3</m>. To get partitions of <m>3k+4</m>, use a rectangle of width
            <m>k+1</m>, and to get partitions of <m>3k-4</m>, use a rectangle of width
            <m>k-1</m>. Since the first row of the Young diagram has at most <m>k-3</m>
            squares, we will still have four nonzero parts in the partition that
            results.
          </p>
        </solution>
      </exploration>

      <exploration>
          <introduction>
              <p>
            The idea of conjugation of a partition could be defined without the geometric interpretation of a Young diagram, but it would seem far less natural without the geometric interpretation. Another idea that seems much more natural in a geometric context is this. Suppose we have a partition of <m>k</m> into <m>n</m> parts with largest part <m>m</m>. Then the Young diagram of the partition can fit into a rectangle that is <m>m</m> or more units wide (horizontally) and <m>n</m> or more units deep. Suppose we place the Young diagram of our partition in the top left-hand corner of an <m>m'</m> unit wide and <m>n'</m> unit deep rectangle with <m>m'\ge m</m> and <m>n' \ge n</m>, as in <xref ref="complementpartition" />.
          </p>
          <figure xml:id="complementpartition" >
            <caption>To complement the partition <m>(5,3,3,2)</m> in a 6 by 5 rectangle: enclose it in the rectangle, rotate, and cut out the original Young diagram.</caption>
            <image width="70%" source="images/complementpartition" />
          </figure>
          </introduction>

          <task>
            <statement>
              <p>
                Why can we interpret the part of the rectangle not occupied by our Young diagram, rotated in the plane, as the Young diagram of another partition? This is called the <term>complement</term><idx><h>complement of a partition</h></idx> of our partition in the rectangle.
              </p>
            </statement>
            <solution>
              <p>
                If we fill the rectangle with unit squares, those not in the Young diagram of the original partition <m>\lambda</m> will fall into rows.  The lengths of the rows are nonnegative, and are nondecreasing as we move down. Therefore, after we rotate through 180 degrees, these same rows will be listed in the opposite order, lined up along the left sides, and will have nonincreasing length. Thus they will be the Young diagram of a partition.
              </p>
            </solution>
          </task>

          <task>
            <statement>
              <p>
                What integer is being partitioned by the complement?
              </p>
            </statement>
            <solution>
              <p>
                The integer being partitioned will be <m>m'n'-k</m>.
              </p>
            </solution>
          </task>

          <task>
            <statement>
              <p>
                What conditions on <m>m'</m> and <m>n'</m> guarantee that the complement has the same number of parts as the original one?
              </p>
            </statement>
            <hint>
              <p>
            Consider two cases, <m>m' \gt m</m> and <m>m' = m</m>.
              </p>
            </hint>
            <solution>
              <p>
                If <m>m'>m</m> and <m>n'=n</m>. the two partitions will have the same number of parts, because we will have a nonzero number of empty squares at the end of each row of the Young diagram of <m>\lambda</m>. If <m>m'=m</m> and <m>n'-n</m> is the multiplicity of the largest part of <m>\lambda</m>, they will have the same number of parts. Otherwise, their numbers of parts will differ.
              </p>
            </solution>
          </task>

          <task>
            <statement>
              <p>
                What conditions on <m>m'</m> and <m>n'</m> guarantee that the complement has the same largest part as the original one?
              </p>
            </statement>
            <hint>
              <p>
                Consider two cases, <m>n' \gt n</m> and <m>n' = n</m>.
              </p>
            </hint>
            <solution>
              <p>
                If <m>n'\gt n</m> and <m>m=m'</m>, then the two partitions will have the same largest part. If <m>n'=n</m> and <m>m'-m</m> is the smallest part of <m>\lambda</m>, then they will have the same largest part. Otherwise, their largest parts will differ.
              </p>
            </solution>
          </task>

          <task>
            <statement>
              <p>
                Is it possible for the complement to have both the same number of parts and the same largest part as the original one?
              </p>
            </statement>
            <solution>
              <p>
                For the two partitions to have the same number of parts, either <m>m'=m</m> or <m>n'=n</m>. If <m>m'=m</m> and they have the same largest part, then <m>n'>n</m>. But this is consistent with <m>n'-n</m> being the multiplicity of the largest part of <m>\lambda</m>. Thus they can have the same number of parts and the same largest part if <m>m'=m</m> and <m>n'-n</m> is the multiplicity of the largest part of <m>\lambda</m>, or similarly if <m>n=n'</m> and <m>m'-m</m> is the smallest part of <m>\lambda</m>.
              </p>
            </solution>
          </task>

          <task>
            <statement>
              <p>
                If we complement a partition in an <m>m'</m> by <m>n'</m> box and then complement that partition in an <m>m'</m> by <m>n'</m> box again, do we get the same partition that we started with?
              </p>
            </statement>
            <solution>
              <p>
                If we complement a partition in an <m>m'</m> by <m>n'</m> box and then complement that partition in <em>the same rectangle</em>, then we get the original partition back.
              </p>
            </solution>
          </task>
    </exploration>

    <exploration category="interesting">
        <statement>
          <p>
            Suppose we take a partition of <m>k</m> into <m>n</m> parts with largest part <m>m</m>, complement it in the smallest rectangle it will fit into, complement the result in the smallest rectangle it will fit into, and continue the process until we get the partition 1 of one into one part.  What can you say about the partition with which we started?
          </p>
        </statement>
        <hint>
          <p>
            Suppose we take two repetitions of this complementation process. What rows and columns do we remove from the diagram?
          </p>
        </hint>
        <hint>
          <p>
        To deal with an odd number of repetitions of the complementation
        process, think of it as an even number plus 1. Thus ask what kind of
        partition gives us the partition of one into one part after this
        complementation process.
          </p>
        </hint>
        <solution>
          <p>
            Let us call the process of enclosing <m>\lambda</m> in the smallest rectangle possible and then forming the complement in that rectangle <term>encomplementation</term> (This is short for <em>en</em>\/closure and <em>complementation</em> and is not a standard term<mdash />there is no standard term for this operation.) and call the result of it the <term>encomplement</term><idx><h>encomplement of a partition</h></idx> of <m>\lambda</m>.  The result of two encomplementations on the Young diagram of a partition is to remove all rows of maximum length and all columns of maximum length from the Young diagram. Thus the description of the result of an even number <m>2j</m> of encomplementations is straightforward; we remove all the rows of the <m>j</m> largest distinct lengths and all columns of the <m>j</m> largest distinct lengths. So if an even number of encomplementations brings us to a partition with one block of size one, we should be able to describe the original partition fairly easily. To deal with the result of an odd number of encomplementations, we ask what happens if we encomplement just once.  If the complement of <m>\lambda</m> in the smallest rectangle in which if fits has one square, then <m>\lambda =\lambda_1^{n_1}\lambda_1-1</m>. Thus we are asking for the partitions which, after an even number of encomplementations, give us either the partition with one block or a partition of the form <m>\lambda_1^{n_1}(\lambda_1-1)</m>. First we ask what kind of partition results in the second one after two encomplementations. If we get <m>\lambda_1^{n_1}(\lambda_1-1)</m> from two encomplementations, the partition we started with had the form
            <me>
              \lambda_0^{n_0}(\lambda_1+\lambda_{2})^{n_1}(\lambda_1+
              \lambda_2-1)\lambda_2^{n_2}.
            </me>
          </p>

          <p>
            If we get <m>\lambda_1^{n_1}(\lambda_1-1)</m> from four encomplementations, then we started with a partition of the form
            <me>
              \lambda_{-1}^{n_{-1}}(\lambda_0+\lambda_{3})^{n_0}(\lambda_1+
              \lambda_2 +
              \lambda_{3})^{n_1}(\lambda_1+\lambda_2 +\lambda_3-1)(\lambda_2+
              \lambda_{3})^{n_3}
              \lambda_3^{n_3}.
            </me>
          </p>

          <p>
            From this pattern we see that a partition that results in <m>\lambda_1^{n_1}(\lambda_1-1)</m> after <m>2j</m> encomplementations has the form
            <men xml:id="form1" >
              \lambda_{1-j}^{n_{1-j}}\lambda_{2-j}^{n_{2-j}}\cdots
              \lambda_0^{n_0}
              {\lambda'_1}^{n_1}
              (\lambda'_1-1)\lambda_2^{n_2}\cdots
              \lambda_{j+1}^{n_{j+1}},
            </men>
            where <m>\lambda_i>\lambda_{i+1}</m> and <m>\lambda_0>\lambda'_1>\lambda_2+1</m>.
          </p>

          <p>
            On the other hand, a partition <m>\lambda</m> that results in <m>1</m> after two encomplementations has the form <m>\lambda_0^{n_0}(\lambda_1+1)\lambda_1^{n_1}</m>, and so a partition that results in 1 after <m>j</m> encomplementations is of the form
            <men xml:id="form2" >
              \lambda_{1-j}^{n_{1-j}}\lambda_{2-j}^{n_{2-j}}\cdots
              \lambda_0^{n_0}(\lambda_1+1)\lambda_1^{n_1}\lambda_2^{n_2}\cdots
              \lambda_j^{n_j},
            </men>
            where <m>\lambda_i>\lambda_{i+1}</m> and <m>\lambda_0>\lambda_1+1</m>. Thus a partition results in a single part of size 1 after some number of encomplementations if and only if it has the form of <xref ref="form1">Equation</xref> or <xref ref="form2">Equation</xref>.
          </p>
        </solution>
      </exploration>

  </paragraphs>
</subsection>

  <subsection>
    <title>Partitions into distinct parts</title>
    <p>Often <m>q_n(k)</m> is used to denote the number of partitions of <m>k</m> into distinct parts, that is, parts that are different from each other.
    </p>



    <example category="interesting">
      <statement>
        <p>
          Show that the number of partitions of 7 into three parts equals the number of partitions of 10 into three distinct parts.
        </p>
      </statement>
      <!-- <hint>
        <p>
          While you could simply display partitions of 7 into three parts and partitions of 10 into three parts, we hope you won't. Perhaps you could write down the partitions of 4 into two parts and the partitions of 5 into two distinct parts and look for a natural bijection between them. So the hope is that you will discover a bijection from the set of partitions of 7 into three parts and the partitions of 10 into three distinct parts. It could help to draw the Young diagrams of partitions of 4 into two parts and the partitions of 5 into two distinct parts.
        </p>
      </hint> -->
      <solution>
        <p>
          To get a feel for this, list them out:
          <md>
            <mrow>(5,1,1) \qquad \amp \qquad (7,2,1)</mrow>
            <mrow>(4,2,1) \qquad \amp \qquad (6,3,1)</mrow>
            <mrow>(3,3,1) \qquad \amp \qquad (5,4,1)</mrow>
            <mrow>(3,2,2) \qquad \amp \qquad (5,3,2)</mrow>
          </md>
          There are four of each sort, which shows what we want.  But what is the connection?  It's to add 210!
        </p>
        <p>
          Given a partition <m>\lambda</m> of 7 in decreasing list form <m>\lambda_1,\lambda_2,\lambda_3</m>, if we add 0 to <m>\lambda_3</m>, <m>1</m> to <m>\lambda_2</m> and 2 to <m>\lambda_1</m> the resulting partition of 10 has distinct parts. If we take a partition <m>\lambda'</m> of 10 with distinct parts, then <m>\lambda'_1\ge\lambda'_2+1</m>, <m>\lambda'_1\ge\lambda'_3+2</m>, and <m>\lambda'_2\ge \lambda'_3+1</m>. Therefore if we subtract 2 from <m>\lambda'_1</m> to get <m>\lambda_1</m>, subtract 1 from <m>\lambda'_2</m> to get <m>\lambda_2</m> and let <m>\lambda_3= \lambda'_3</m>, then <m>\lambda_1,\lambda_2,\lambda_3</m> is the decreasing list representation of a partition of <m>10-3=7</m>. Thus there is a bijection between partitions of <m>7</m> into three parts and partitions of <m>10</m> into three distinct parts.
        </p>
      </solution>
    </example>
    
    <exploration>
      <statement>
        <p>
          Show that the number of partitions of <m>10</m> into three parts equals the number of partitions of 13 into three distinct parts. 
        </p>
      </statement>
    </exploration>

    <exploration category="essential for this or the next section, and interesting">
      <statement>
        <p>
          There is a relationship between <m>p_n(k)</m> and <m>q_n(m)</m> for some other number <m>m</m>. Find the number <m>m</m> that gives you the nicest possible relationship.
        </p>
      </statement>
      <hint>
        <p>
      In the case <m>k=4</m> and <m>n=2</m>, we have <m>m=5</m>. In the case <m>k = 7</m> and <m>n = 3</m>,
      we have <m>m = 10</m>.
        </p>
      </hint>
      <solution>
        <p>
          The number of partitions of <m>k</m> into <m>n</m> parts is equal to the number of partitions of <m>k+\binom{n}{2}</m> into n distinct parts.  The bijection from partitions of <m>k</m> with <m>n</m> parts to partitions of <m>k+\binom{n}{2}</m> with <m>n</m> distinct parts that proves this is the one that takes a partition <m>\lambda_n\lambda_{n-1}\cdots\lambda_1</m> of <m>k</m> with <m>\lambda_i>\lambda_{i+1}</m> and adds <m>i-1</m> to <m>\lambda_i</m> to get <m>\lambda'_i</m>. Then <m>\lambda'</m> is a partition into distinct parts, and the number it partitions is <m>k+1+2+\cdots+n-1=k+\binom{n}{2}</m>. The proof that it is a bijection is the fact that subtracting <m>n-i</m> from the <m>i</m>\/th part of a partition of <m>k</m> into distinct parts yields a partition of <m>k</m>, because part <m>i+j</m> is at least <m>j</m> smaller than part <m>i</m>.
        </p>
      </solution>
    </exploration>

    <activity category="essential for this or the next section">
      <statement>
        <p>Find a recurrence that expresses <m>q_n(k)</m> as a sum of <m>q_m(k-n)</m> for appropriate values of <m>m</m>.
        </p>
      </statement>
      <hint>
        <p>
          What can you do to a Young diagram for a partition of <m>k</m> into <m>n</m> distinct parts to get a Young diagram of a partition of <m>k-n</m> into some number of distinct parts?
        </p>
      </hint>
      <solution>
        <p>
          Suppose <m>\lambda</m> is a partition of <m>k</m> into <m>n</m> distinct parts. Either 1 is one of those parts or not. Thus if we subtract 1 from each part, we either get a partition of <m>k-n</m> into <m>n-1</m> parts or a partition of <m>k-n</m> into <m>n</m> parts. If <m>\lambda</m> and <m>\lambda'</m> are different partitions of <m>k</m> into <m>n</m> distinct parts, they go to different partitions. Each partition of <m>k-n</m> into <m>n-1</m> parts or <m>n</m> parts can be gotten in this way from a corresponding partition of <m>k</m> into <m>n</m> parts. Thus we have a bijective correspondence and <m>q_n(k)=q_{n-1}(k-n) + q_{n}(k-n)</m>.
        </p>
      </solution>
    </activity>

    <p>
      The following exercise is interesting, but difficult.  The adventurous reader can try it directly here.  We will establish the same result using generating functions in the next section.
    </p>

    <exploration category="interesting and difficult">
      <statement>
        <p>
          Show that the number of partitions of <m>k</m> into distinct parts equals the number of partitions of <m>k</m> into odd parts.
        </p>
      </statement>
      <hint>
        <p>
          For any partition of <m>k</m> into parts <m>\lambda_1</m>, <m>\lambda_2</m>, etc. we can get a partition of <m>k</m> into odd parts by factoring the highest power of two that we can from each <m>\lambda_i</m>, writing <m>\lambda_i = \gamma_i\cdot 2^k_i</m>.  Why is <m>\gamma_i</m> odd? Now partition <m>k</m> into <m>2^{k_1}</m> parts of size <m>\gamma_1</m>, <m>2^{k_2}</m> parts of size <m>\gamma_2</m>, etc. and you have a partition of <m>k</m> into odd parts.
        </p>
      </hint>
      <solution>
        <p>We start by giving a function from the set of partitions of <m>k</m> to the set of partitions of <m>k</m> with (only) odd parts. Clearly such a function cannot be one to one. Then we show that when restricted to the partitions with distinct parts it is one-to-one and onto by constructing an inverse. Given a partition <m>\lambda_1^{i_1}\lambda_2^{i_2}\cdots\lambda_n^{i_n}</m>, write <m>\lambda_i=\gamma_i2^{k_i}</m>, where <m>\gamma_i</m> is odd. (Thus <m>2^{k_i}</m> is the highest power of 2 that is a factor of <m>\lambda_i</m>, so it is 1 if <m>\lambda_i</m> is odd.). It is possible that <m>\gamma_i=\gamma_j</m>, for example if <m>\lambda_i=36</m> and <m>\lambda_j=18</m>, then <m>\gamma_i=\gamma_j=9</m>. We construct a new partition <m>\pi</m> whose parts are the numbers <m>\gamma_j</m> as follows: Given an odd number <m>p</m>, let the multiplicity <m>m(p)</m> of <m>p</m> in <m>\pi</m> be <m>\sum_{j: \gamma_j=m} 2^{k_j}</m>. Thus <m>\sum_{p: m(p)\not=0}m(p)p = k</m>. Therefore, <m>\pi</m> is a partition of <m>k</m> whose parts are all odd.
        </p>

        <p>Now consider a partition <m>\pi</m> of <m>k</m> whose parts are all odd. Let <m>\pi=\pi_1^{r_1}\pi_2^{r_2}\cdots \pi_t^{r_t}</m>, with <m>\pi_i>\pi_{i+1}</m>. (In terms of the multiplicity function <m>m</m>, <m>m(\pi_i) =r_i</m>, and <m>\sum_{i=1}^t r_i\pi_i = k</m>.) We are going to write the binary expansion of each <m>r_i</m> as <m>r_i = \sum_{j= 0}^{\lfloor \log_2 r_i\rfloor} 2^{ja_{ij}}</m>, where <m>a_{ij}</m> is 1 if <m>2^j</m> appears in the binary expansion of <m>r_i</m>, and 0 otherwise. All of the numbers <m>\pi_i2^{ja_{ij}}</m> are distinct, because a power of two times one odd number cannot equal a power of two times another odd number. The numbers <m>\pi_i2^{ja_{ij}}</m> add to <m>k</m>, so they are the parts of a partition <m>\pi'</m> of <m>k</m> into distinct parts. When we apply the function constructed in the first part of the solution to <m>\pi'</m>, we get <m>\pi</m>, so the correspondence between <m>\pi</m> and <m>\pi'</m> is a bijection.
        </p>
      </solution>
    </exploration>

    <p>
      Here is another challenging exercise.
    </p>

    <exploration category="interesting and difficult">
      <statement>
        <p>
          Euler showed that if <m>k\not= \frac{3j^2+j}{2}</m>, then the number of partitions of <m>k</m> into an even number of distinct parts is the same as the number of partitions of <m>k</m> into an odd number of distinct parts. Prove this, and in the exceptional case find out how the two numbers relate to each other.
        </p>
      </statement>
      <hint>
        <p>
          Suppose we have a partition of <m>k</m> into distinct parts. If the smallest part, say <m>m</m>, is smaller than the number of parts, we may add one to each of the <m>m</m> largest parts and delete the smallest part, and we have changed the parity of the number of parts, but we still have distinct parts. On the other hand, suppose the smallest part, again say <m>m</m>, is larger than or equal to the number of parts. Then we can subtract 1 from each part larger than <m>m</m>, and add a part equal to the number of parts larger than <m>m</m>. This changes the parity of the number of parts, but if the second smallest part is <m>m+1</m>, the resulting partition does not have distinct parts. Thus this method does not work. Further, if it did always work, the case <m>k \ne \frac{3j^2+j}{2}</m> would be covered also. However you can modify this method by comparing <m>m</m> not to the total number of parts, but to the number of rows at the top of the Young diagram that differ by exactly one from the row above. Even in this situation, there are certain slight additional assumptions you need to make, so this hint leaves you a lot of work to do. (It is reasonable to expect problems because of that exceptional case.) However, it should lead you in a useful direction.
        </p>
      </hint>
      <solution>
        <p>This solution is taken largely from the book <pubtitle>Introduction to Combinatorics</pubtitle> by Ioan Tomescu (published in London by Collet's in 1975). Tomescu calls a collection of rows in a Young diagram a <q>trapezoid</q> if each row contains one less cell than the row above and the number of cells in the rows above and below the trapezoid differ by two or more from the number of cells in rows of the trapezoid. Thus in (8,6,5,4,2,1) we have 3 trapezoids, the first row, the next three rows, and the last two. Since we are dealing with partitions with distinct parts, we don't have to worry about how two equal rows affect the definition of a trapezoid. We will describe a way to transform a partition with an even number of distinct parts into a partition with an odd number of distinct parts and vice versa.
        </p>

        <p>
          First we describe a transformation on Young diagrams. Here is the first part of the description. Suppose the smallest part <m>m</m> of <m>\lambda</m> is less than or equal to the number <m>j</m> of rows in the top trapezoid. Suppose further that if we have only one trapezoid, then <m>j>m</m>. Then we construct a partition with one less part by adding 1 to each of the <m>m</m> largest parts and discarding the part <m>m</m>. We still have a diagram for a partition of the same integer, but now the parity of the number of parts has changed, and we <em>may</em> have increased the number of trapezoids by 1. The smallest part will now be larger than the number (now <m>m</m>) of rows in the top trapezoid. (Notice that the construction would not work if we had only one trapezoid and <m>j=m</m> because we would first remove one row of the trapezoid and thus have no row to which to attach one of our squares.)
        </p>

        <p>Here is the second part of the description of the transformation. Suppose now that <m>m</m> is larger than the number <m>j</m> of rows of the top trapezoid in the Young diagram. Suppose also that the Young diagram has at least two trapezoids or it has one trapezoid and <m>j\ge m-2</m>. Take one square from each of the <m>j</m> rows of the top trapezoid (which is the whole diagram if there is only one trapezoid) and also add a row of <m>j</m> squares at the bottom of the diagram. (Since <m>m>j</m>, this gives us a Young diagram of a partition of the same integer into distinct parts.) The parity of the number of rows has changed, and now the number of rows of the top trapezoid is at least as large as the smallest part of the partition. (Note, two previously distinct trapezoids may have joined together to form one on top.)  (Notice that if we have one trapezoid and <m>j= m+1</m>, then the construction yields a partition with two equal parts, which is why we made the special assumption above.) Now let <m>T</m> be the transformation described by the two constructions above. Its domain is all Young diagrams except those with one trapezoid and <m>m\le j\le m+1</m>. <m>T^2</m> is the identity, and so <m>T</m> is a bijection.  When restricted to partitions with an odd number of parts, <m>T</m> gives partitions with an even number of parts, so on its domain it gives a bijection between partitions with an even number of parts and partitions with an odd number of parts.
        </p>

        <p>If <m>m=j</m> and the diagram has just one trapezoid, then the diagram has <m>\frac{3j^2-j}{2}</m> squares, and if <m>m=j+1</m> and the diagram has just one trapezoid, then the diagram has <m>\frac{3j^2+j}{2}</m> squares. Thus if <m>k\ne \frac{3j^2\pm j}{2}</m>, the number of partitions of <m>k</m> into distinct even parts equals the number of partitions of <m>k</m> into distinct odd parts.
        </p>

        <p>If <m>k= \frac{3j^2\pm j}{2}</m> and <m>j</m> is even, then there is one diagram of a partition of <m>k</m> that is not in the domain of the bijection and has an even number of rows, so in this case there will be one more partition with an even number of parts than with an odd number. If <m>k= \frac{3j^2\pm j}{2}</m> and <m>j</m> is odd, there is one diagram with an odd number of rows not in the domain and so in this case there is one more partition with an odd number of parts than with an even number. This completes the exceptional cases of the problem.
        </p>
      </solution>
    </exploration>
    
    <p>
      And finally, a much simpler, purely combinatorial result.
    </p>
    <exploration>
      <statement>
        <p>
          Show that
          <me>
            q_n(k) \le \frac{1}{n!}\binom{k-1}{n-1}.
          </me>
        </p>
      </statement>
      <hint>
        <p>
      How does the number of compositions of <m>k</m> into <m>n</m> distinct parts compare to the number of compositions of <m>k</m> into <m>n</m> parts (not necessarily distinct)?
      What do compositions have to do with partitions?
        </p>
      </hint>
      <solution>
        <p>
          The number of compositions of <m>k</m> into <m>n</m> parts is <m>\binom{k-1}{n-1}</m>. Thus the number of compositions of <m>k</m> into <m>n</m> distinct parts is less than <m>\binom{k-1}{n-1}</m>. Divide the compositions of <m>k</m> into <m>n</m> distinct parts into blocks with two compositions in the same block if one is a rearrangement of the other. Because the parts are distinct, each block has <m>n!</m> members. Further, there is a bijection between the blocks of this partition and the partitions of <m>k</m> into <m>n</m> distinct parts. Since the number of compositions of <m>k</m> into <m>n</m> distinct parts is less than <m>\binom{k-1}{n-1}</m>, the number of partitions of <m>k</m> into <m>n</m> distinct parts is less than <m>\frac{1}{n!}  \binom{k-1}{n-1}</m>.
        </p>
      </solution>
    </exploration>

</subsection>


<subsection xml:id="sec_genfns-int-parts" >
  <title>Using Generating Functions</title>
  
  <p>
    I this final section we will see that generating functions are especially well suited for the study of integer partitions.  We will start with a classic example.
  </p>
  <activity xml:id="change-making" category="essential">
      <statement>
          <p>If we have five identical pennies, five identical nickels, five identical dimes, and five identical quarters, give the picture enumerator for the combinations of coins we can form and convert it to a generating function for the number of ways to make <m>k</m> cents with the coins we have. Do the same thing assuming we have an unlimited supply of pennies, nickels, dimes, and quarters.
          </p>
      </statement>
      <hint>
          <p>
              This is a good place to apply the product principle for picture enumerators.  Don't be afraid to use technology to finish the problem.
          </p>
      </hint>
      <solution>
          <p>
              <m>(1+P+P^2+P^3+P^4+P^5)(1+N+N^2+N^3+N^4+N^5)(1+D+D^2+D^3+D^4+D^5)
              (1+Q+Q^2+Q^3+Q^4+Q^5)</m>. Substituting <m>x</m> for <m>P</m>, <m>x^5</m> for <m>N</m>, <m>x^{10}</m> for
              <m>D</m> and <m>x^{25}</m> for <m>Q</m> gives us
              <me>
                  \sum_{i=0}^5x^i\sum_{i=0}^5x^{5i}\sum_{i=0}^5 x^{10i} \sum_{i=0}^5
                  x^{25i}=\frac{1-x^6}{1-x}\cdot\frac{1-x^{30}}{1-x^5}\cdot\frac{1-x^{60}}{
                  1-x^{10}}\cdot \frac{1-x^{150}}{1-x^{25}}.
              </me>
          </p>

          <p>Although we could write this as a polynomial times a product of four power series, doing so would not significantly increase our understanding, though it would let us make some painful computations of the number of ways to make a certain number of cents. If we actually wanted such numbers we would be better off asking a computer algebra package to expand the product of the polynomials on the left. With unlimited supplies the generating function becomes
          <me>
              \frac{1}{1-x}\cdot\frac{1}{1-x^5}\cdot\frac{1}{1-x^{10}}\cdot\frac{1}{1-x^{25}}.
          </me>
          </p>

          <p>Again, we could write this as a product of power series, and that would allow us to painfully compute the number of ways to create a certain number of cents. If we actually wanted to know the number of ways to make up 200 cents, say, it would be more sensible to ask a computer algebra package to extract the coefficient of <m>x^{200}</m> in the product of the four quotients.
          </p>
      </solution>
  </activity>


  <!-- TODO: add example of something similar to the above -->

  <activity category="essential">
      <introduction>
          <p>
             In <xref ref="change-making"/> we found the generating function for the number of partitions of an integer into parts of size 1, 5, 10, and 25. 
             
          <!-- When working with generating functions for partitions, it is becoming standard to use <m>q</m> rather than <m>x</m> as the variable in the generating function.  Write your answers in this notation.
          <fn>The reason for this change in the notation relates to the subject of finite fields in abstract algebra, where <m>q</m> is the standard notation for the size of a finite field.  While we will make no use of this connection, it will be easier for you to read more advanced work if you get used to the different notation.</fn>
        -->
          </p>
      </introduction>
          <task>
              <statement>
                  <p>
                    Give the generating function for the number partitions of an integer into parts of size one through ten.
                  </p>
              </statement>
              <hint>
                  <p>
                      The product principle for generating functions helps you break the generating function into a product of ten simpler ones.
                  </p>
              </hint>
              <solution>
                  <p>
                      <m>\prod_{i=1}^{10}\frac{1}{1-x^i}</m>
                  </p>
              </solution>
          </task>
          <task xml:id="largestpartatmostm">
              <statement>
                  <p>
                      Give the generating function for the number of partitions of an integer <m>k</m> into parts of size at most <m>m</m>, where <m>m</m> is fixed but <m>k</m> may vary. Notice this is the generating function for partitions whose Young diagram fits into the space between the line <m>x=0</m> and the line <m>x=m</m> in a coordinate plane. (We assume the boxes in the Young diagram are one unit by one unit.)
                  </p>
              </statement>
              <hint>
                  <p>
                      <m>m</m> was 10 in the previous part of this problem.
                  </p>
              </hint>
              <solution>
                  <p>
                      <m>\prod_{i=1}^m\frac{1}{1-x^i}</m>.
                  </p>
              </solution>
          </task>
  </activity>

  <activity xml:id="atmostmparts" category="essential">
      <statement>
          <p>
              In <xref ref="largestpartatmostm"/> you gave the generating function for the number of partitions of an integer into parts of size at most <m>m</m>. Can you see why this is also the generating function for partitions of an integer into at most <m>m</m> parts. 
          </p>
      </statement>
      <hint>
          <p>
              Think about conjugate partitions.
              <image width="50%" source="images/conjugateYoung" />
          </p>
      </hint>
      <solution>
          <p>
              Conjugation is a bijection between partitions with largest part at most <m>m</m> and partitions with at most <m>m</m> parts. Thus the coefficient of <m>x^i</m> (the number of partitions of <m>i</m> into parts of size at most <m>m</m>) in the generating function for the number of partitions of integers into parts of size at most <m>m</m> will be the coefficient of <m>x^i</m> (the number of partitions of <m>i</m> with at most <m>m</m> parts) in the generating function for the number of partitions of integers into parts of size at most <m>m</m>. Thus the two generating functions are the same.
          </p>
      </solution>
  </activity>

  <example xml:id="genfunpartitions">
    <statement>
      <p>
        The generating function for the number of partitions of an integer into parts of any size is 
        <me>
          \frac{1}{(1-x)(1-x^2)(1-x^3) \cdots} = (1+x+x^2+x^3+\cdots)(1+x^2+x^4+\cdots)(1+x^3+\cdots)\cdots
        </me>.
        The coefficient of <m>x^4</m> is 5.  Where does this come from exactly?
      </p>
      
      <p>
        First notice that the <m>x^4</m> in the second factor is really <m>x^{2\cdot 2}</m>.  That is, while the first factor's <m>x^4</m> represents using four 1's, the second factor's <m>x^4</m> comes from <m>(x^2)^2</m> so represents using two 2's. The fourth factor's <m>x^4</m> means one 4.
      </p>
      <p>  
         Here are all the ways of forming <m>x^4</m> using the first four factors (we would never need anything beyond this), and their corresponding partition.
        <md>
          <mrow>1\cdot1 \cdot 1 \cdot  x^4 \amp \leftrightarrow  (4) </mrow>
          <mrow>x\cdot 1 \cdot x^3\cdot 1 \amp \leftrightarrow  (3,1) </mrow>
          <mrow>1 \cdot x^4 \cdot 1\cdot 1 \amp \leftrightarrow  (2,2) </mrow>
          <mrow> x^2\cdot x^2\cdot 1 \cdot 1 \amp \leftrightarrow  (2,1,1) </mrow>
          <mrow>x^4 \cdot 1\cdot 1 \cdot 1 \amp \leftrightarrow  (1,1,1,1) </mrow>
        </md>
      </p>
    </statement>
  </example>
  
  <exploration>
    <statement>
      <p>
        Illustrate the partitions of 5 and their correspondence to the ways to get <m>x^5</m> in the generating function for the number of partitions of an integer.
      </p>
    </statement>
    <hint>
      <p>
        Note that <m>1+x^2+x^4+x^6+\cdots</m> in the generating function is really <m>1+x^2 + x^{2\cdot 2}</m>
      </p>
    </hint>
  </exploration>

<!-- 
    <activity xml:id="genfunpartitions" category="essential">
        <introduction>
            <p>When studying partitions of integers, it is inconvenient to restrict ourselves to partitions with at most <m>m</m> parts or partitions with maximum part size <m>m</m>.
            </p>
        </introduction>
        <task>
            <statement>
                <p>Give the generating function for the number of partitions of an integer into parts of any size. Don't forget to use <m>q</m> rather than <m>x</m> as your variable.
                </p>
            </statement>
            <hint>
                <p>
                    Don't be afraid of writing down a product of infinitely many power series.
                </p>
            </hint>
            <solution>
                <p>
                    We start with
                    <me>
                        (1+x+q^2+\cdots)(1+q^2+q^4+\cdots)\cdots(1+q^i+q^{2i})\cdots,
                    </me>
                    which we can write more precisely as
                    <me>
                        \prod_{i=1}^\infty \sum_{j=0}^\infty q^{ij}.
                    </me>
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>Find the coefficient of <m>q^4</m> in this generating function.</p>
            </statement>
            <hint>
                <p>
                    From the fifth factor on, there is no way to choose a <m>q^i</m> that has <m>i</m> nonzero and less than five from the factor.
                </p>
            </hint>
            <solution>
                <p>
                    From the fifth factor on, there is no way to choose a <m>q^i</m> that has <m>i</m> nonzero and less than five from the factor. Thus we choose a 1 from each of these factors. We can choose a <m>q^4</m> from the fourth factor and 1 from the rest, a <m>q^3</m> from the third factor, a <m>q</m> from the first and a 1 from the rest, a <m>q^2</m> from the second factor, a <m>q^2</m> from the first and a 1 from the rest, or we can choose a <m>q^4</m> from the first factor and a 1 from the rest. Therefore the coefficient of <m>q^4</m> is five.
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>
                    Find the coefficient of <m>q^5</m> in this generating function.
                </p>
            </statement>
            <solution>
                <p>
                    From the sixth factor of the product on, there is no way to choose a <m>q^i</m> that has <m>i</m> nonzero and less than six from the factor, so when we compute the coefficient of <m>q^5</m>, we can only choose the 1 from each of these terms. In the first five factors, we choose any combination of powers that adds to 5. We can choose <m>q^5</m> from the fifth and 1 from the rest, q from the first, <m>q^4</m> from the second and 1 from the rest, <m>q^2</m> from the second, <m>q^3</m> from the third and 1 from the rest, <m>q^2</m> from the first and <m>q^3</m> from the third and 1 from the rest, <m>q^3</m> from the first, <m>q^2</m> from the second, and 1 from the rest <m>q^5</m> from the first and 1 from the rest, and these are the only ways to get a <m>q^5</m> in the product. Thus the coefficient of <m>q^5</m> is 7.
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>
                    This generating function involves an infinite product. Describe the process you would use to expand this product into as many terms of a power series as you choose.
                </p>
            </statement>
            <hint>
                <p>
                    Describe to yourself how to get the coefficient of a given power of <m>q</m>.
                </p>
            </hint>
            <solution>
                <p>To get the coefficient of <m>q^k</m> in this product, we look at all ways of choosing one summand from each of the infinite series and multiplying them together to get <m>q^k</m>, and add all these products up. That is, the coefficient of <m>q^k</m> is the number of ways of making these choices of one summand from each series so that the product of our choices is <m>q^k</m>. This lets us write down as many terms of the series as we want, or as we have patience for!
            </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>
                    Rewrite any power series that appear in your product as quotients of polynomials or as integers divided by polynomials.
                </p>
            </statement>
            <solution>
                 <p>
                     We can rewrite the infinite product as <m>\displaystyle\prod_{i=0}^\infty\frac{1}{1-q^i}</m>.
                 </p>
             </solution>
        </task>
    </activity> -->

    <!-- <activity category="interesting">
        <statement>
            <p>
              In <xref ref="genfunpartitions"/>, we multiplied together infinitely many power series. Here are two notations for infinite products that look rather similar:
            <me>
                \prod_{i=1}^\infty 1 + x + x^2 +\cdots+ x^i\qquad\mbox{and}\qquad
                \prod_{i=1}^\infty 1 +x^i +x^{2i} +\cdots + x^{i^2}.
            </me>
            </p>

            <p>However, one makes sense and one doesn't. Figure out which one makes sense and explain why it makes sense and the other one doesn't. If we want a product of the form
            <me>
                \prod_{i=1}^\infty 1 +p_i(x),
            </me>
            where each <m>p_i(x)</m> is a nonzero polynomial in <m>x</m> to make sense, describe a relatively simple assumption about the polynomials <m>p_i(x)</m> that will make the product make sense. If we assumed the terms <m>p_i(x)</m> were nonzero power series, is there a relatively simple assumption we could make about them in order to make the product make sense? (Describe such a condition or explain why you think there couldn't be one.)
            </p>
        </statement>
        <hint>
            <p>
If infinitely many of the polynomials had a nonzero coefficient for <m>q</m>, would the product make any sense?
            </p>
        </hint>

        <solution>
            <p>
                <m>\prod_{i=1}^\infty 1 +x^i +x^{2i} +\cdots + x^{i^2}</m> makes sense because when we look for ways of choosing one summand from each factor so that the summands multiply together to give us <m>x^k</m>, we will find only finitely many ways of making those choices, so the coefficient of <m>x^k</m> can be taken to be the number of such choices. On the other hand, in the expression <m>\prod_{i=1}^\infty 1 + x + x^2 +\cdots+ x^i</m>, there are infinitely many ways to choose <m>x</m> from one term and <m>1</m> from all the rest of the terms so that the product of these summands is <m>x</m>. Thus we can't even specify what the coefficient of <m>x</m> is in the product. On the basis of this analysis, we see that for <m>\prod_{i=1}^\infty 1 +p_i(x)</m> to make sense, we need to assume that for each possible positive integer <m>n</m>, there are only a finite number of polynomials <m>p_i</m> whose lowest degree term has degree less than or equal to <m>n</m>. In that way, for each positive integer, there will be only finitely many ways to chose a summand from each factor so that the product of the summands is a multiple of <m>x^k</m>. The same assumption works when the <m>p_i</m> are power series, for the same reason.
            </p>
        </solution>
    </activity> -->


    <example>
      <statement>
        <p>
          The generating function for the number of partitions of an integer in which each part is even is 
          <me>
            \frac{1}{(1-x^2)(1-x^4)(1-x^6)\cdots}
          </me>
          
        </p>
      </statement>
    </example>

    <!-- TODO: check/fix this: -->
    <example>
      <statement>
        <p>
          Explain why the generating function for the number of partitions of an integer into exactly <m>m</m> parts is 
          <me>
            \frac{x^m}{(1-x)(1-x^2)\cdots(1-x^m)}
          </me>.
        </p>
      </statement>
      <solution>
        <p>
          By considering a Young diagram and its compliment, we saw that there is a one to one correspondence between partitions that have exactly <m>m</m> parts and partitions that have <m>m</m> as their largest part.  
        </p>
        <p>
          The generating function for the number of partitions of integers having <em>largest</em> part <m>m</m> is 
          <me>
            \frac{1}{(1-x)(1-x^2)\cdots (1-x^m)}
          </me>.
          Thus this is also the number of partitions of integers having <em>at most</em> <m>m</m> parts.
          Now subtract those having at most <m>m-1</m> parts:
          <me>
            \frac{1}{(1-x)\cdots (1-x^m)} - \frac{1}{(1-x)\cdots (1-x^{m-1})} = \frac{x^m}{(1-x)\cdots(1-x^m)}
          </me>.
          
          
        </p>

        <p>
          Alternatively, instead of doing the algebra on the last step, we can use Young diagrams again.  There is a bijection between partitions of <m>k</m> into exactly <m>m</m> parts and partitions of <m>k-m</m> into at most <m>m</m> parts.  The bijection is: remove the first column!  So look at the infinite series for <m>\frac{1}{(1-x)(1-x^2)\cdots (1-x^m)}</m>.  The coefficient of <m>x^{k-m}</m> is the number of partitions of <m>k-m</m> into at most <m>m</m> parts.  So if we multiply each term by <m>x^m</m>, then the coefficient of <m>x^{k-m+m} = x^{k}</m> is the number of partitions of <m>k-m</m> into at most <m>m</m> parts.  But this is the number of partitions of <m>k</m> into <em>exactly</em> <m>m</m> parts, as required.
        </p>
      </solution>
    </example>

    <!-- <activity category="essential">
        <statement>
            <p>What is the generating function (using <m>q</m> for the variable) for the number of partitions of an integer in which each part is even?
            </p>
        </statement>
        <hint>
            <p>
                <m>(1 + q^2 + q^4 )(1 + q^3 + q^9 )</m> is the generating function for partitions of an integer into at most two twos and at most two threes.
            </p>
        </hint>

        <solution>
            <p>
                <m>(1+q^2+q^4+\cdots)(1+q^4+q^8+\cdots)(1+q^6+q^{12}+\cdots)\cdots</m>,
                which can be written more precisely as <m>\displaystyle\prod_{i=1}^\infty
                \sum_{j=0}^\infty q^{2ij}</m>.
            </p>
        </solution>
    </activity> -->

    <exploration>
      <statement>
        <p>
          Show that the generating function for the number of partitions of integers into <em>exactly</em> <m>m</m> <em>distinct</em> parts is 
          <me>
            \frac{x^{\frac{m(m+1)}{2}}}{(1-x)(1-x^2)\cdots(1-x^m)}
          </me>.
        </p>
      </statement>
      <solution>
        <p>
          Thinking about the Young diagrams for partitions of <m>k</m> into exactly <m>m</m> distinct parts, each will have at least 1 sqaure in row <m>m</m>, at least 2 squares in row <m>m-1</m>, etc, and at least <m>m</m> squares in row 1.  If we remove these <m>1 + 2 +\cdots + m = \frac{m(m+1)}{2}</m> squares, we get a diagram for a partition of <m>k-\frac{m(m+1)}{2}</m> into at most <m>m</m> parts.  Further, if we started with a partition of <m>k-\frac{m(m+1)}{2}</m> into at most <m>m</m> parts, we can transform it into a partition for <m>k</m> into exactly <m>m</m> distinct parts by adding the triangle of <m>\frac{m(m+1)}{2}</m> squares.
        </p>
        <p>
          Let <m>f(x)</m> be the generating function for the number of partitions of integers into exactly <m>m</m> distinct parts.  That is, in <m>f(x)</m>, the coefficient of <m>x^k</m> is the number of partitions of <m>k</m> into exactly <m>m</m> distinct parts.  Then <m>f(x)/x^{\frac{m(m+1)}{2}}</m> is the generating function for the number of partitions of integers into at most <m>m</m> parts.  But that is <m>\frac{1}{(1-x)(1-x^2)\cdots(1-x^m)}</m>.
        </p>
      </solution>
    </exploration>


    <example>
      <statement>
        <p>
          Let's illustrate these last few results with <m>m = 3</m>. 
        </p>
        <p>
          First,
          <me>
            \frac{1}{(1-x)(1-x^2)(1-x^3)} = 1 + x + 2x^2 + 3x^3 + 4x^5 + 7x^6 + \cdots
          </me>.
          This shows that the number of partitions of <m>n = 6</m> into at most 3 parts is <m>7</m>.  The are
          <md>
            <mrow>(6) </mrow>
            <mrow>(5,1) </mrow>
            <mrow>(4,2) </mrow>
            <mrow>(4,1,1) </mrow>
            <mrow>(3,3) </mrow>
            <mrow>(3,2,1) </mrow>
            <mrow>(2,2,2) </mrow>
          </md>.
          Now multiply the series by <m>x^3</m>.  The term <m>3x^6</m> shows that there are <m>3</m> partitions of <m>n=6</m> into exactly 3 parts.
        </p>
        
        <p>
          Finally, multiply instead by <m>x^{\frac{m(m+1)}{2}} = x^6</m> (when <m>m = 3</m>) to get <m>x^6 + x^7 + 2x^8 + 3x^9+ 4x^{10} + \cdots</m>.  This shows that only one of the partitions of <m>n=6</m> into 3 parts has its parts distinct.  Further, there are <m>4</m> partitions of <m>n = 10</m> into exactly 3 distinct parts:
          <md>
            <mrow>(7,2,1) </mrow>
            <mrow>(6,3,1) </mrow>
            <mrow>(5,4,1) </mrow>
            <mrow>(5,3,2) </mrow>
          </md>.
        </p>
      </statement>
    </example>

    <exploration>
      <introduction>
        <p>
          Give the generating function for the number of partitions of <m>n</m> with each of the following restrictions
        </p>
      </introduction>
      <task>
        <p>
          Each part is used at most once (i.e., a partition into distinct parts).
        </p>
      </task>
      <task>
        <p>
          No part is larger than 3.
        </p>
      </task>
      <task>
        <p>
          All parts are odd.
        </p>
      </task>
      <task>
        <p>
          All parts are distinct and odd.
        </p>
      </task>
      <task>
        <p>
          Only even parts may be repeated.
        </p>
      </task>
      <task>
        <p>
          No part appears more than twice.
        </p>
      </task>
      <task>
        <p>
          All parts are in the set <m>\{3,8\}</m>.  (This might remind you of a stamp problem.)
        </p>
      </task>
    </exploration>

    <!-- <activity category="essential">
        <statement>
            <p>What is the generating function (using <m>q</m> as the variable) for the number of partitions of an integer into distinct parts, that is, in which each part is used at most once?
            </p>
        </statement>
        <hint>
            <p>
                <m>(1 + q^2 + q^4 )(1 + q^3 + q^9 )</m> is the generating function for partitions of an integer into at most two twos and at most two threes. (This is intentionally the same hint as in the previous problem, but it has a different point in this problem.)
            </p>
        </hint>

        <solution>
            <p>
                <m>\displaystyle (1+q)(1+q^2)(1+q^3)\cdots=
                \prod_{i=1}^\infty(1+q^i)</m>.
            </p>
        </solution>
    </activity> -->

    <exploration category="essential">
        <statement>
            <p>Use generating functions to explain why the number of partitions of an integer in which each part is used an even number of times equals the number of partitions of an integer in which each part is even.
            </p>
        </statement>
        <hint>
            <p>
                In the power series <m>\sum_{j=0}^\infty x^{2ij}</m>, the <m>2ij</m> has a different interpretation if you think
of it as <m>(2i) \cdot j</m> or if you think of it as <m>i \cdot (2j)</m>.

</p>
</hint>

        <solution>
            <p>In the generating function <m>\displaystyle\prod_{i=1}^\infty \sum_{j=0}^\infty x^{2ij}</m>, we may interpret the <m>2ij</m> in <m>x^{2ji}</m> the value of using <m>2i</m> as a part <m>j</m> times or as the value of using <m>i</m> as a part <m>2j</m> times. Therefore this is the generating function both for the number of partitions of integers into parts that are even and the number of partitions into parts that are used an even number of times. Therefore the number of partitions of <m>n</m> in which each part is even equals the number of partitions of <m>n</m> in which each part is used an even number of times. In <xref ref="partition-even-mult-even-use" /> we got the same result bijectively.
            </p>
        </solution>
    </exploration>

    <exploration category="essential and interesting">
        <statement>
            <p>Use the fact that
            <me>
                \frac{1-x^{2i}}{1-x^i}= 1+x^i
            </me>
            and the generating function for the number of partitions of an integer into distinct parts to show how the number of partitions of an integer <m>k</m> into distinct parts is related to the number of partitions of an integer <m>k</m> into odd parts.
            </p>
        </statement>
        <hint>
            <p>
                Note that
                <me>\frac{1-x^2}{1-x}\cdot \frac{1-x^4}{1-x^2}\cdot \frac{1-x^6}{1-x^3}\cdot \frac{1-x^8}{1-x^4} = \frac{(1-x^6)(1-x^8)}{(1-x)(1-x^3)} </me>.
            </p>
        </hint>
        <solution>
            <p>
                <m>\displaystyle\prod_{i=1}^\infty 1+x^i=\prod_{i=1}^n \frac{1-x^{2i}}{1-x^i}=\frac{\prod_{i=1}^\infty1-x^{2i}}{\prod_{j=1}^\infty 1-x^j} =\prod_{i=j}^\infty \frac{1}{1-x^{2j-1}}</m>, because all the terms in the numerator cancel with alternate terms in the denominator leaving only terms with odd powers of <m>x</m>. But
                <md>
                    <mrow> \amp \prod_{j=1}^\infty\frac{1}{1-x^{2j-1}} =  \prod_{j=1}^\infty \sum_{i=0}^\infty (x^{2j-1})^i</mrow>
                    <mrow> =\amp (1+x+x^{2\cdot1}+\cdots)(1+x^3+x^{2\cdot3}+\cdots)(1
                        +x^5+x^{2\cdot5}+\cdots)\cdots,</mrow>
                    </md>
                    which is the generating function for partitions of integers into parts that
                    are odd numbers.
                </p>
            </solution>
    </exploration>


    <exploration>
      <statement>
        <p>
          Verify that the number of partitions of <m>n=5</m> is equal to the number of partitions of <m>10</m> into exactly 5 parts.  Generalize.
        </p>
      </statement>
    </exploration>



    <exploration>
        <statement>
            <p>Write down the generating function for the number of ways to partition an integer into parts of size no more than <m>m</m>, each used an odd number of times. Write down the generating function for the number of partitions of an integer into parts of size no more than <m>m</m>, each used an even number of times. Use these two generating functions to get a relationship between the two sequences for which you wrote down the generating functions.
            </p>
        </statement>
        <hint>
            <p>
                Note that <m>x^i + x^{3i} + x^{5i} + \cdots = x^i (1 + x^2 + x^4 + \cdots)</m>.
            </p>
        </hint>
        <solution>
            <p>
                <me>
                        \displaystyle\prod_{i=1}^m (x^i+x^{3i}+x^{5i}+\cdots )= x^{1+2+\cdots m}\prod_{i=1}^m (1+x^{2i}+x^{4i}+\cdots )=x^{\binom{m+1}{2}}\prod_{i=1}^m\frac{1}{1-x^{2i}}
                    </me>
                    is the generating function for the number of ways to partition an integer into parts of size at most <m>m</m>, each used an odd number of times.
                    <me>
                        \displaystyle
                        \prod_{i=1}^m (1 +x^{2i}+x^{4i}+x^{6i}+\cdots )=\prod_{i=1}^m \frac{1}{1-x^{2i}}
                    </me>
                    is the generating function for the number of partitions of an integer into parts of size no more than <m>m</m>, each used an even number of times. Therefore the number of partitions of <m>k</m> into parts of size no more than <m>m</m>, each used an even number of times is the number of partitions of <m>k+\binom{m+1}{2}</m>, into parts of size no more than <m>m</m>, each used an odd number of times.
            </p>
        </solution>
    </exploration>


    <exploration>
      <statement>
        <p>
        <!-- Is this wrong?  We have the LHS is \frac{1}{1-x}: every number can be represented in binary. -->
          Show algebraically that 
          <!-- <me>(1+x)(1+x^2)(1+x^4)(1+x^8)\cdots = \frac{1}{(1-x)}</me>. -->
          <me>(1+x)(1+x^2)(1+x^4)(1+x^8)\cdots = \frac{1}{(1-x)(1-x^3)(1-x^5)\cdots}</me>.
          What does this identity tell you about partitions of integers?
        </p>
      </statement>
    </exploration>


    <exploration>
      <task>
        <statement>
          <p>
            Prove that
            <me>
              \frac{1}{1-x} = (1 + x + x^2 +\cdots + x^9)(1 + x^{10} + \cdots + x^{90})(1 + x^{100} + \cdots + x^{900})\cdots.
            </me>
            What does this tell us about numbers?
          </p>
        </statement>
        <solution>
          <p>
            If we write the right hand side using quotients, we get
            <me>
              \frac{1-x^10}{1-x}\cdot \frac{1-x^{100}}{1-x^{10}}\cdot \frac{1-x^{1000}}{1-x^{100}}\cdot\cdots.
            </me>
            We see that all terms will cancel excpt for
            <me>
              \frac{1}{1-x}.
            </me>
          </p>
          <p>
            Now written as a polynomial, <m>\frac{1}{1-x} = 1 + x + x^2 + x^3 + \cdots</m>.  So the coefficient of <m>x^k</m> will be 1 for all <m>k</m>.  The right hand side though gives the genereting function for the number of ways to write a number as the sum of up to 9 ones, up to 9 tens, up to 9 one hundreds, and so on.  In other words, this generating function gives the number of ways to write a number in base 10.  And since the coefficients are all 1, we see that this number of ways is 1; that is, there is a unique base 10 representation of every natural number.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Prove that every non negative integer <m>n</m> has a unique binary representation.
          </p>
        </statement>
        <solution>
          <p>
            We repeat the previous part, but this time show that
            <me>
                \frac{1}{1-x} = (1+x)(1+x^2)(1+x^4)(1+x^8)(1+x^{16})\cdots.
            </me>
            Writing the right hand side as quotients, you see that again every term cancels except for the left hand side.
          </p>
        </solution>
      </task>
      <task>
        <statement>
          <p>
            Find a simple expression for <me>(1+x+x^2)(1+x^3+x^6)(1+x^9+x^{18})(1+x^{27}+x^{54})\cdots.</me>
            How can you interpret this result?
          </p>
        </statement>
        <solution>
          <p>
            Replicating the method from above, we see that this expression simplifies to <m>\frac{1}{1-x}</m>.  We can interpret the expression as the generating function for the number of ways to write a number in base 3.  So this result shows that the base 3 representation is unique.
          </p>
        </solution>
      </task>
    </exploration>



    
    <!-- This is, in some sense, the problem from hell when it comes to structure. In the first pass, we're going to break into more tasks than Bogart had. This really should become more than one activity in the final version. -->
    <!-- <activity xml:id="qtorialformula" category="interesting">
        <introduction>
            <p>In <xref ref="largestpartatmostm"/> and <xref ref="atmostmparts"/> you gave the generating functions for, respectively, the number of partitions of <m>k</m> into parts the largest of which is at most <m>m</m> and for the number of partitions of <m>k</m> into at most <m>m</m> parts. In this problem we will give the generating function for the number of partitions of <m>k</m> into at most <m>n</m> parts, the largest of which is at most <m>m</m>. That is we will analyze <m>\sum_{i=0}^\infty a_kx^k</m> where <m>a_k</m> is the number of partitions of <m>k</m> into at most <m>n</m> parts, the largest of which is at most <m>m</m>. Geometrically, it is the generating function for partitions whose Young diagram fits into an <m>m</m> by <m>n</m> rectangle, as in <xref ref="rectanglecomplement"/>. This generating function has significant analogs to the binomial coefficient <m>\binom{m+n}{n}</m>, and so it is denoted by <m>\qchoose{m+n}{n}</m>. It is called a <term><m>q</m>-binomial coefficient</term>.<idx><h><m>q</m>-binomial coefficient</h></idx><idx><h>binomial coefficient</h><h><m>q</m>-binomial</h></idx>
            </p>
        </introduction>
        <task>
            <statement>
                <p>Compute <m>\qchoose{4}{2}=\qchoose{2+2}{2}</m>.
                </p>
            </statement>
            <hint>
                <p>
                    We want to calculate the number of partitions whose Young diagrams fit into a two by two square. These partitions have at most two parts and the parts have size at most two. Thus they are partitions of 1, 2, 3, or 4. However not all partitions of 3 or 4 have diagrams that fit into a two by two square. Try writing down the relevant diagrams.
                </p>
            </hint>
            <solution>
                <p>
                    A partition with up to two parts of size up to two can have no parts, one part of size 1, which makes it a partition of 1, one part of size 2 which makes it a partition of 2, two parts of size 1, which makes it a partition of 2, a part of size 2 and a part of size 1, which makes it a partition of 3, or two parts of size 2, which makes it a partition of 4. Thus <m>\qchoose{4}{2}=1+x+2x^2+x^3+x^4</m>.
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>
                    Find explicit formulas for <m>\qchoose{n}{1}</m> and
                    <m>\qchoose{n}{n-1}</m>.
                </p>
            </statement>
            <hint>
                <p>
                    They are the generating function for the number of partitions whose Young diagram fits into a rectangle <m>n - 1</m> units wide and 1 unit deep or into a rectangle 1 unit wide and <m>n - 1</m> units deep respectively.
                </p>
            </hint>
            <solution>
                <p>Both are <m>1+x+x^2+\cdots+x^{n-1} = \frac{1-x^{n-1}}{1-q}</m>, because they are the generating function for the number of partitions whose Young diagram fits into a rectangle <m>n-1</m> units wide and 1 unit deep or into a rectangle 1 unit wide and <m>n-1</m> units deep respectively.
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>How are <m>\qchoose{m+n}{n}</m> and <m>\qchoose{m+n}{n}</m> related? Prove it. (Note this is the same as asking how <m>\qchoose{r}{s}</m> and <m>\qchoose{r}{r-s}</m> are related.)
                </p>
            </statement>
            <hint>
                <p>
                    How can you get a diagram of a partition counted by partition is counted by <m>\qchoose{m+n}{n}</m> from one whose partition is counted by <m>\qchoose{m+n}{m}</m>?
                </p>
            </hint>
            <solution>
                <p>
                    By conjugation, <m>\qchoose{m+n}{n}=\qchoose{m+n}{m}</m>.
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>So far the analogy to <m>\binom{m+n}{n}</m> is rather thin! If we had a recurrence like the Pascal recurrence, that would demonstrate a real analogy. Is <m>\qchoose{m+n}{n}= \qchoose{m+n-1}{n-1}+\qchoose{m+n-1}{n}</m>?
                </p>
            </statement>
            <solution>
                <p>
                    No. <m>\qchoose{4}{2}=1+x+2x^2+x^3+x^4</m>, but
                    <m>\qchoose{3}{1}=1+x+x^2</m> and
                    <m>\qchoose{3}{2}=1+x+x^2</m>.
                </p>
            </solution>
        </task>
        <task>
            <introduction>
                <p>Recall the two operations we studied in <xref ref="numberpartitionrecurrence" />.
                </p>
            </introduction>
            <task>
                <statement>
                    <p>
                        The largest part of a partition counted by <m>\qchoose{m+n}{n}</m> is either <m>m</m> or is less than or equal to <m>m-1</m>.  In the second case, the partition fits into a rectangle that is at most <m>m-1</m> units wide and at most <m>n</m> units deep.  What is the generating function for partitions of this type?  In the first case, what kind of rectangle does the partition we get by removing the largest part sit in?  What is the generating function for partitions that sit in this kind of rectangle?  What is the generating function for partitions that sit in this kind of rectangle after we remove a largest part of size <m>m</m>?  What recurrence relation does this give you?
                    </p>
                </statement>
                <solution>
                    <p>The generating function for partitions that arise in the second case is <m>\qchoose{m+n-1}{m-1}=\qchoose{m+n-1}{n}</m>. In the first case, after we delete the largest part, the Young diagram sits in a rectangle of width <m>m</m> and depth <m>n-1</m>. The generating function for partitions that arise in the first case <em>after</em> we have deleted a part of size <m>m</m> is <m>\qchoose{m+n-1}{n-1}</m>. Thus the generating function for partitions that arise in the first case (<em>before</em> we delete the part of size <m>m</m>) is <m>x^m\qchoose{m+n-1}{n-1}</m>. Thus by the sum principle the generating function for all partitions that fit into a rectangle of width <m>m</m> and depth <m>n</m> is given by
                    <me>
                        \qchoose{m+n}{n}= x^m\qchoose{m+n-1}{n-1}+\qchoose{m+n-1}{n}.
                    </me>
                    </p>

                    <p>If you don't use the symmetry <m>\qchoose{m+n-1}{m-1}=\qchoose{m+n-1}{n}</m>, you get
                    <me>
                        \qchoose{m+n}{n}= x^m\qchoose{m+n-1}{n-1}+\qchoose{m+n-1}{m-1}.
                    </me>
                    </p>

                    <p>
                        While this doesn't <em>quite</em> look like the Pascal recurrence, it is still a correct answer.
                    </p>
                </solution>
            </task>
            <task>
                <statement>
                    <p>
                        What recurrence do you get from the other operation we studied in <xref ref="numberpartitionrecurrence"/>?
                    </p>
                </statement>
                <solution>
                    <p>We either have exactly <m>k</m> parts or fewer than <m>k</m> parts. In the first case, removing one from each part gives us a partition whose Young diagram fits into a <m>m-1</m> by <m>n</m> box, while in the second case doing nothing gives us a partition that fits into a <m>m</m> by <m>n-1</m> box. In the first case the partition we get partitions <m>k-n</m>, and in the second case it still partitions <m>k</m>. Thus we get
                    <me>
                        \qchoose{m+n}{n}= x^n\qchoose{m+n-1}{n}+\qchoose{m+n-1}{n-1}.
                    </me>
                    </p>
                </solution>
            </task>
            <task>
                <statement>
                    <p>It is quite likely that the two recurrences you got are different.  One would expect that they might give different values for <m>\qchoose{m+n}{n}</m>.  Can you resolve this potential conflict?
                    </p>
                </statement>
                <hint>
                    <p>
                        Think about geometric operations on Young Diagrams
                    </p>
                </hint>
                <solution>
                    <p>
                        Yes, by conjugation.
                    </p>
                </solution>
            </task>
        </task>
        <task>
            <statement>
                <p>Define <m>[n]_q</m> to be <m>1+x+\cdots+x^{n-1}</m> for <m>n>0</m> and <m>[0]_q =1</m>.  We read this simply as <m>n</m>-sub-<m>q</m>. Define <m>[n]!_q</m> to be <m>[n]_q[n-1]_q\cdots [3]_q[2]_q[1]_q</m>. We read this as <m>n</m> cue-torial, and refer to it as a <term><m>q</m>-ary factorial</term>.<idx><h>factorial</h><h><m>q</m>-ary</h></idx><idx><h><m>q</m>-ary factorial</h></idx> Show that
                <me>
                    \qchoose{m+n}{n} = \frac{[m+n]!_q}{[m]!_q[n]!_q}.
                </me>
                </p>
            </statement>
            <hint>
                <p>
                    How would you use the Pascal recurrence to prove the corresponding result for binomial coefficients?
                </p>
            </hint>
            <solution>
                <p>Note that <m>\qchoose{n}{0}= \qchoose{n}{n} = 1</m>, because only the partition with no parts sits in a rectangle of width or depth 0. But <m>\frac{[m+0]!_q}{[m]!_q[0]!_q} =1</m> and <m>\frac{[0+n]!_q}{[0]!_q[n]!_q} =1</m>. Thus the formula holds when <m>m=0</m> or <m>n=0</m>. But
                <md>
                    <mrow> \amp x^m\frac{[m+n-1]!_q}{[n-1]!_q[m]!_q}+\frac{[m+n-1]!_q}{[n]!_q[m-1]!_q}</mrow>
                    <mrow> =\amp \relax[m+n-1]!_q\left(\frac{x^m}{[n-1]!_q[m]!_q}
                    +\frac{1}{[n]!_q[m-1]!_q}\right)</mrow>
                    <mrow> \amp \relax[m+n-1]!_q\left(\frac{[n]_qx^m}{[n]!_q[m]_q}+\frac{[m]_q}{[n]!_q[m]!_q}\right)</mrow>
                    <mrow> =\amp \relax\frac{[m+n-1]!_q}{[n]!_q[m]!_q}\left((1+x+\cdots+x^{n-1})x^m +
                    1+x+\cdots+x^{m-1}\right)</mrow>
                    <mrow> =\amp \relax\frac{[m+n-1]!_q[m+n]_q}{[n]!_q[m]!_q}</mrow>
                    <mrow> =\amp \qchoose{m+n}{n}.</mrow>
                </md>
                </p>

                <p>
                    Thus <m>\frac{[m+n]!_q}{[m]!_q[n]!_q}</m> satisfies our recurrence and so by the
                    principle of mathematical induction, <m>\qchoose{m+n}{n} = \frac{[m+n]!_q}{[m]!_q[n]!_q}.</m>
                </p>
            </solution>
        </task>
        <task>
            <statement>
                <p>Now think of <m>q</m> as a variable that we will let approach <m>1</m>. Find an explicit formula for
                <ol label="(i)">
                    <li>
                        <m>\displaystyle\lim_{q\rightarrow 1} [n]_q</m>.
                    </li>
                    <li> <m>\displaystyle\lim_{q\rightarrow 1} [n]!_q</m>.
                    </li>
                    <li xml:id="q-binomial-lim"> <m>\displaystyle\lim_{q\rightarrow 1} \qchoose{m+n}{n}</m>.
                    </li>
                </ol>
                Why is the limit in <xref ref="q-binomial-lim">Part</xref> equal to the number of partitions (of any number) with at most <m>n</m> parts all of size most <m>m</m>? Can you explain bijectively why this quantity equals the formula you got?
                </p>
            </statement>
            <hint>
                <p>
                    For finding a bijection, think about lattice paths.
                </p>
            </hint>
            <solution>
                <p>
                    <ol label="(i)">
                        <li><m>n</m>
                        </li>
                        <li><m>n!</m>
                        </li>
                        <li><m>\binom{m+n}{n}</m>
                        </li>
                    </ol>
                    Since the generating function is a finite sum (we are talking about partitions whose Young diagram into a finite rectangle), the limit is obtained by setting <m>q=1</m>, and this sums the number of partitions of each possible number <m>k</m> that have at most <m>n</m> parts all of size at most <m>m</m>. We want a bijection between such partitions and the <m>n</m> element subsets of an <m>m+n</m> element set. Recall that there is a bijection between subsets of an <m>n</m> element set and lattice paths from <m>(0,0)</m> to <m>m,n</m> in a coordinate plane. If we draw our rectangle of width <m>m</m> and depth <m>n</m> with its lower left corner at <m>(0,0)</m>, then each Young diagram gives us such a lattice path and each such lattice path gives us a Young diagram.
                </p>
            </solution>
        </task>
        <task category="difficult">
            <statement>
                <p>What happens to <m>\qchoose{m+n}{n}</m> if we let <m>q</m> approach <m>-1</m>?
                </p>
            </statement>
            <hint>
                <p>
                    If you could prove <m>\qchoose{m+n}{n}</m> is a polynomial function of <m>q</m>, what would that tell you about how to compute the limit as <m>q</m> approaches <m>-1</m>?
                </p>
            </hint>
            <hint>
                <p>
                    Try computing a table of values of <m>\qchoose{m+n}{n}</m> with <m>q=-1</m> by using the recurrence relation. Make a pretty big table so you can see what is happening.
                </p>
            </hint>
            <solution>
                <p><m>\qchoose{m+n}{n}</m> is the generating function for the number of partitions whose Young diagram fits into an <m>m</m> by <m>n</m> rectangle. That is,
                <me>
                    \qchoose{m+n}{n}=\sum_{k=0}^\infty a_kx^k,
                </me>
                where <m>a_k</m> is the number of partitions of <m>k</m> whose Young diagram fits into an <m>m</m> by <m>n</m> rectangle. In particular <m>a_k=0</m> if <m>k>mn</m>, because the Young diagram of a partition of a number larger than <m>mn</m> certainly cannot fit into an <m>m</m> by <m>n</m> rectangle. Thus
                <me>
                    \qchoose{m+n}{n}=\sum_{k=0}^{mn} a_kx^k.
                </me>
                </p>

                <p>Furthermore, <m>a_k=a_{mn-k}</m>, because the complement in an <m>m</m> by <m>n</m> rectangle of a partition of <m>k</m> is a partition of <m>mn-k</m>, and complementation in an <m>m</m> by <m>n</m> rectangle is a bijection between partitions of <m>k</m> that fit into the rectangle and partitions of <m>mn-k</m> that fit into the rectangle. Thus <m>\qchoose{m+n}{n}</m> is a polynomial of degree <m>mn</m> in which the coefficient of <m>q_k</m> equals the coefficient of <m>x^{mn-k}</m>. For this reason we can compute the limit as <m>q</m> approaches <m>-1</m> simply by substituting <m>-1</m> for <m>q</m> in the polynomial; the only trouble being that the formula we know for <m>\qchoose{m+n}{n}</m> is quotient of polynomials that has zero in both the numerator and denominator when we substitute in <m>q=-1</m>. Nonetheless, when we substitute <m>-1</m> for <m>q</m> we get the alternating sum <m>\sum_{i=0}^{mn} (-1)^ia_i</m>.  Thus if <m>a_i</m> and <m>a_{mn-i}</m> have opposite sign, they will cancel out. If <m>mn</m> is even, <m>i</m> is even exactly when <m>mn-i</m> is even, and so <m>a_i</m> and <m>a_{mn-i}</m> have the same sign. However when <m>mn</m> is odd, <m>a_i</m> and <m>a_{mn-i}</m> have opposite signs in the sum <m>\sum_{i=0}^{mn} (-1)^ia_i</m>, and so the sum is zero.  Thus the polynomial <m>\qchoose{m+n}{n}</m> is zero at <m>q=-1</m> whenever <m>mn</m> is odd.
                </p>

                <p>Our experience with binomial coefficients might lead us to hope that the alternating sum of the coefficients <m>a_k</m> will always be zero. However, we computed that <m>\qchoose{4}{2}=1+x+2x^2+x^3+x^4</m>, so
                <me>
                    \lim_{q\rightarrow -1}\qchoose{4}{2}=1-1+2-1+1=1.
                </me>
                </p>

                <p>We could compute some more values of the limit by going back to the definition in this way, but it seems unlikely that we could get enough data to make a good conjecture. However we have the recurrence, and setting <m>q=-1</m> in the recurrence gives us <xref ref="q-binomial-tab" />.  From the table, it is clear that we get binomial coefficients interspersed with 0s in the even numbered rows of our table and repeated binomial coefficients in the odd numbered rows of our table. In particular when <m>m+n</m> and <m>n</m> are both even, <m>\negchoose{m+n}{n}=\binom{(m+n)/2}{n/2}</m>, and if <m>m+n</m> is even and <m>n</m> is odd, <m>\negchoose{m+n}{n}=0</m>. In our table, at least, if <m>m+n</m> is odd, it appears that we get <m>\negchoose{m+n}{n}=\binom{\lfloor(m+n)/2\rfloor}{\lfloor n/2\rfloor}</m>. In fact, using the recurrence just as we used it to construct the table, we can prove by induction that
                <me>
                    \negchoose{m+n}{n}=\left\{
                    \begin{array}{ll}0\amp \mbox{if \(mn\) is odd} \\
                    \binom{\lfloor(m+n)/2\rfloor}{\lfloor n/2\rfloor}\amp \mbox{otherwise.}
                    \end{array} \right.
                </me>
                </p>
                <table xml:id="q-binomial-tab">
                    <title><m>-1</m>-binomial coefficients</title>
                    <tabular>
                        <col right="minor" halign="center" /><col /><col /><col /><col /><col /><col /><col /><col /><col /><col />
                        <row bottom="minor">
                            <cell><m>m+n\backslash n</m></cell>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>2</cell>
                            <cell>3</cell>
                            <cell>4</cell>
                            <cell>5</cell>
                            <cell>6</cell>
                            <cell>7</cell>
                            <cell>8</cell>
                            <cell>9</cell>
                        </row>
                        <row>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>2</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>3</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>4</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>2</cell>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>5</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>2</cell>
                            <cell>2</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>6</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>3</cell>
                            <cell>0</cell>
                            <cell>3</cell>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>7</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>3</cell>
                            <cell>3</cell>
                            <cell>3</cell>
                            <cell>3</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>8</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                            <cell>4</cell>
                            <cell>0</cell>
                            <cell>6</cell>
                            <cell>0</cell>
                            <cell>4</cell>
                            <cell>0</cell>
                            <cell>1</cell>
                            <cell>0</cell>
                        </row>
                        <row>
                            <cell>9</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                            <cell>4</cell>
                            <cell>4</cell>
                            <cell>6</cell>
                            <cell>6</cell>
                            <cell>4</cell>
                            <cell>4</cell>
                            <cell>1</cell>
                            <cell>1</cell>
                        </row>
                    </tabular>
                </table>
                <p>
                    (Note that <m>mn</m> is odd if and only if <m>m+n</m> is even and <m>n</m> is odd.) Wouldn't it be fascinating to know what we are counting here? It is the number of lattice paths from <m>(0, 0)</m> to <m>(n - k, k)</m> that are symmetric under 180 degree rotation. This and other results are discussed in the paper by John R. Stembridge <q>Some hidden relations involving the ten symmetry classes of plane partitions.</q> <pubtitle>J. Combin. Theory Ser. A</pubtitle> 68 (1994), no. 2, 372–409.
                </p>
            </solution>
        </task>
    </activity> -->
  </subsection>
</section>
